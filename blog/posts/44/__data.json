{"type":"data","nodes":[null,{"type":"data","data":[{"blog":1,"blogId":9,"blogContent":10},{"id":2,"title":3,"description":4,"createdAt":5,"approxTimeToRead":6,"coverImageUrl":7,"__typename":8},44,"Documenting .env files for nodejs Projects","Created an npm package to generate template files for documentation","2021-05-14T18:37:04.000Z","PT1M","/store/48-my-personal-computing-setup/img.cover.jpeg","Blog","44","Note: There's a video version available where I actually build this project and deploy it to npmjs: https://youtu.be/4N1lwa6w6HA\n\nDocumentation of any sort looks like an overhead at the time, but pays off really well for projects that need to maintained for a long time, when teams change, when onboarding new members, and a whole lot others.\n\nFor nodejs projects, application configuration is usually read from `process.env` which in turn come from a place like ENVIRONMENT variables or a configuration file like `.env`. During development, this package `dotenv` is a great tool to set your environment variables.\n\n## Documentation is Key\n\nFor large projects with even larger teams, code base changes constantly and so does the configuration. So documentation is key to keep anyone who uses the code base later. \n\nA typical `.env` file looks like this (it's a collection of key=value pairs)\n\n```env\n# The Node environment\nNODE_ENV=development\n\n# Url to a third party service\nAPI_SERVICE_URL=https://mrsauravsahu.tech/posts/41/file\n```\n\nSince the value could contain sensitive information, to document this, we should ideally omit the value from each key=value pair and add this template of sorts to source control, which look something like the example below:\n\n```env\n# The Node environment\nNODE_ENV=\n\n# Url to a third party service\nAPI_SERVICE_URL=\n```\n\n## What did I build?\n\nI created an npm package which generates these template `.env` files from the real .env file, called [gen-env-template](https://npmjs.com/gen-env-template).\nThis is a dev-tool so you can install it as a devDependency.\n\n```bash\n# Use your favorite package manager to install this. (You can use npx to run directly as well)\nnpm i -D gen-env-template\n```\n\nNow that we have the package, we can pass in the `.env` file we're using and path to the outfile file. For example, if this is our input file - \n\n```bash\n➜ cat .env     \n# The Node environment\nNODE_ENV=\n\n# Url to a third party service\nAPI_SERVICE_URL=\n```\n\nWe can generate our template file with this command \n```bash\n➜ ./node_modules/.bin/gen-env-template .env template.env\n```\n\nNow we get the generated template file \n```bash\n➜ cat template.env \n# The Node environment\nNODE_ENV=\n\n# Url to a third party service\nAPI_SERVICE_URL=\n```\n\nNow, this `template.env` file can be safely committed to source control as all secrets have been omitted. You can the Github repository for this project here - [mrsauravsahu/gen-env-template on Github](https://github.com/mrsauravsahu/gen-env-template)\n"],"uses":{"params":["blogId"]}}]}
